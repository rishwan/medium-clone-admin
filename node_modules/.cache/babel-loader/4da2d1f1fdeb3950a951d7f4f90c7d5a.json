{"ast":null,"code":"import _objectSpread from \"/Users/rishwan/Documents/projects/mediumclone-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport api from '../lib/api';\nimport { push } from 'react-router-redux';\n/**\n * Constants\n */\n\nvar FETCH_ARTICLES_REQUEST = 'FETCH_ARTICLES_REQUEST';\nvar FETCH_ARTICLES_SUCCESS = 'FETCH_ARTICLES_SUCCESS';\nvar FETCH_ARTICLES_FAIL = 'FETCH_ARTICLES_FAIL';\nvar FETCH_TOPICS_SUCCESS = 'FETCH_TOPICS_SUCESS';\nvar FETCH_TOPICS_FAIL = 'FETCH_TOPICS_FAIL';\nvar FETCH_TAGS_SUCCESS = 'FETCH_TAGS_SUCCESS';\nvar FETCH_TAGS_FAIL = 'FETCH_TAGS_FAIL';\nvar CREATE_ARTICLE_REQUEST = 'CREATE_ARTICLE_REQUEST';\nvar CREATE_ARTICLE_SUCCESS = 'CREATE_ARTICLE_SUCCESS';\nvar CREATE_ARTICLE_FAIL = 'CREATE_ARTICLE_FAIL';\nvar DELETE_ARTICLE_SUCCESS = 'DELETE_ARTICLE_SUCCESS';\nvar DELETE_ARTICLE_FAIL = 'DELETE_ARTICLE_FAIL';\nvar FETCH_ARTICLE_REQUEST = 'FETCH_ARTICLE_REQUEST';\nvar FETCH_ARTICLE_SUCCESS = 'FETCH_ARTICLE_SUCCESS';\nvar FETCH_ARTICLE_FAIL = 'FETCH_ARTICLE_FAIL';\nvar UPDATE_ARTICLE_REQUEST = 'UPDATE_ARTICLE_REQUEST';\nvar UPDATE_ARTICLE_SUCCESS = 'UPDATE_ARTICLE_SUCCESS';\nvar UPDATE_ARTICLE_FAIL = 'UPDATE_ARTICLE_FAIL';\n/**\n * Actions\n */\n\nfunction updateArticleRequest() {\n  console.log('updateArticleRequest');\n  return {\n    type: UPDATE_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true,\n      article: null\n    }\n  };\n}\n\nfunction updateArticleSuccess(data) {\n  console.log('updateArticleSuccess');\n  return {\n    type: UPDATE_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  };\n}\n\nfunction updateArticleFail() {\n  console.log('updateArticleFail');\n  return {\n    type: UPDATE_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  };\n}\n\nfunction fetchArticleRequest() {\n  console.log('fetchArticleRequest');\n  return {\n    type: FETCH_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  };\n}\n\nfunction fetchArticleSuccess(data) {\n  console.log('fetchArticleSuccess');\n  return {\n    type: FETCH_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  };\n}\n\nfunction fetchArticleFail() {\n  console.log('fetchArticleFail');\n  return {\n    type: FETCH_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  };\n}\n\nfunction deleteArticleSuccess(data) {\n  console.log('deleteArticleSuccess');\n  return {\n    type: DELETE_ARTICLE_SUCCESS,\n    payload: {\n      articles: data\n    }\n  };\n}\n\nfunction deleteArticleFail() {\n  console.log('deleteArticleFail');\n  return {\n    type: DELETE_ARTICLE_FAIL,\n    payload: {\n      articles: null\n    }\n  };\n}\n\nfunction createArticleRequest() {\n  console.log('createArticleRequest');\n  return {\n    type: CREATE_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  };\n}\n\nfunction createArticleSuccess(data) {\n  console.log('createArticleSuccess');\n  return {\n    type: CREATE_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  };\n}\n\nfunction createArticleFail() {\n  console.log('createArticleFail');\n  return {\n    type: CREATE_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  };\n}\n\nfunction fetchTagsSuccess(data) {\n  console.log('fetchTagsSuccess');\n  return {\n    type: FETCH_TAGS_SUCCESS,\n    payload: {\n      tags: data.result.tags\n    }\n  };\n}\n\nfunction fetchTagsFail() {\n  console.log('fetchTagsFail');\n  return {\n    type: FETCH_TAGS_FAIL,\n    payload: {\n      tags: null\n    }\n  };\n}\n\nfunction fetchTopicsSuccess(data) {\n  console.log('fetchTopicsSuccess');\n  return {\n    type: FETCH_TOPICS_SUCCESS,\n    payload: {\n      topics: data.result.topics\n    }\n  };\n}\n\nfunction fetchTopicsFail() {\n  console.log('fetchTopicsFail');\n  return {\n    type: FETCH_TOPICS_FAIL,\n    payload: {\n      topics: null\n    }\n  };\n}\n\nfunction fetchArticleRequest() {\n  console.log('fetchArticleRequest');\n  return {\n    type: FETCH_ARTICLES_REQUEST,\n    payload: {\n      isFetching: true,\n      articles: null\n    }\n  };\n}\n\nfunction fetchArticlesSuccess(data) {\n  console.log('fetchArticlesSuccess');\n  return {\n    type: FETCH_ARTICLES_SUCCESS,\n    payload: {\n      isFetching: false,\n      articles: data.result.articles\n    }\n  };\n}\n\nfunction fetchArticlesFail() {\n  console.log('fetchArticlesFail');\n  return {\n    type: FETCH_ARTICLES_FAIL,\n    payload: {\n      isFetching: false,\n      articles: null,\n      topics: []\n    }\n  };\n}\n/**\n * Action Dispatchers\n */\n\n\nexport function fetchTags() {\n  return function (dispatch) {\n    api.get('/tags/index').then(function (response) {\n      if (response.data.status === 'ok') {\n        dispatch(fetchTagsSuccess(response.data));\n      } else {\n        dispatch(fetchTagsFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchTagsFail());\n    });\n  };\n}\nexport function fetchArticles() {\n  return function (dispatch) {\n    dispatch(fetchArticleRequest());\n    api.get('/articles/index').then(function (response) {\n      console.log(response);\n\n      if (response.data.status === 'ok') {\n        dispatch(fetchArticlesSuccess(response.data));\n      } else {\n        dispatch(fetchArticlesFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchArticlesFail());\n    });\n  };\n}\nexport function fetchTopics() {\n  return function (dispatch) {\n    api.get('/topics/index').then(function (response) {\n      if (response.data.status === 'ok') {\n        console.log(response.data);\n        dispatch(fetchTopicsSuccess(response.data));\n      } else {\n        dispatch(fetchTopicsFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchTopicsFail());\n    });\n  };\n}\nexport function createArticle(data) {\n  return function (dispatch) {\n    dispatch(createArticleRequest());\n    api.post('/article/store', data).then(function (response) {\n      if (response.data.status === 'ok') {\n        dispatch(createArticleSuccess(response.data));\n        dispatch(push('/article/list'));\n      } else {\n        dispatch(createArticleFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(createArticleFail());\n    });\n  };\n}\nexport function deleteArticle(articles, article_id) {\n  return function (dispatch) {\n    try {\n      var newArticles = articles.slice();\n      var delArticleIndex = articles.findIndex(function (article) {\n        return article.id === article_id;\n      });\n      newArticles.splice(delArticleIndex, 1);\n      api.get('article/delete/' + article_id).then(function (response) {\n        if (response.data.status === 'ok') {\n          dispatch(deleteArticleSuccess(newArticles));\n        } else {\n          deleteArticleFail();\n        }\n      }).catch(function (error) {\n        console.log(error);\n        dispatch(deleteArticleFail());\n      });\n    } catch (err) {\n      dispatch(deleteArticleFail());\n    }\n  };\n}\nexport function fetchArticle(article_id) {\n  return function (dispatch) {\n    dispatch(fetchArticleRequest());\n    api.get('/article/' + article_id).then(function (response) {\n      if (response.data.status === 'ok') {\n        dispatch(fetchArticleSuccess(response.data));\n      } else {\n        dispatch(fetchArticleFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchArticleFail());\n    });\n  };\n}\nexport function updateArticle(data) {\n  return function (dispatch) {\n    dispatch(updateArticleRequest());\n    api.post('/article/update', data).then(function (response) {\n      if (response.data.status === 'ok') {\n        dispatch(updateArticleSuccess(response.data));\n        dispatch(fetchArticle(article_id));\n      } else {\n        dispatch(updateArticleFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(updateArticleFail());\n    });\n  };\n}\n/**\n * Reducer\n */\n\nvar initialState = {\n  isFetching: false,\n  articles: null,\n  topics: null,\n  tags: null,\n  serverAlert: {\n    type: null,\n    msg: null,\n    display: false\n  }\n};\nexport default function articleReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_ARTICLES_REQUEST:\n      return _objectSpread({}, state, {\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      });\n\n    case FETCH_ARTICLES_SUCCESS:\n      return _objectSpread({}, state, {\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      });\n\n    case FETCH_TOPICS_SUCCESS:\n      return _objectSpread({}, state, {\n        topics: action.payload.topics\n      });\n\n    case FETCH_TOPICS_FAIL:\n      return _objectSpread({}, state, {\n        topics: action.payload.topics\n      });\n\n    case FETCH_TAGS_SUCCESS:\n      return _objectSpread({}, state, {\n        tags: action.payload.tags\n      });\n\n    case FETCH_TAGS_FAIL:\n      return _objectSpread({}, state, {\n        tags: action.payload.tags\n      });\n\n    case DELETE_ARTICLE_SUCCESS:\n      return _objectSpread({}, state, {\n        articles: action.payload.articles\n      });\n\n    case DELETE_ARTICLE_FAIL:\n      return _objectSpread({}, state, {\n        articles: action.payload.articles\n      });\n\n    case FETCH_ARTICLE_REQUEST:\n      return _objectSpread({}, state, {\n        isFetching: action.payload.isFetching\n      });\n\n    case FETCH_ARTICLE_SUCCESS:\n      return _objectSpread({}, state, {\n        article: action.payload.article,\n        isFetching: action.payload.isFetching\n      });\n\n    case FETCH_ARTICLE_FAIL:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        article: action.payload.article\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/rishwan/Documents/projects/mediumclone-admin/src/modules/articles.js"],"names":["api","push","FETCH_ARTICLES_REQUEST","FETCH_ARTICLES_SUCCESS","FETCH_ARTICLES_FAIL","FETCH_TOPICS_SUCCESS","FETCH_TOPICS_FAIL","FETCH_TAGS_SUCCESS","FETCH_TAGS_FAIL","CREATE_ARTICLE_REQUEST","CREATE_ARTICLE_SUCCESS","CREATE_ARTICLE_FAIL","DELETE_ARTICLE_SUCCESS","DELETE_ARTICLE_FAIL","FETCH_ARTICLE_REQUEST","FETCH_ARTICLE_SUCCESS","FETCH_ARTICLE_FAIL","UPDATE_ARTICLE_REQUEST","UPDATE_ARTICLE_SUCCESS","UPDATE_ARTICLE_FAIL","updateArticleRequest","console","log","type","payload","isFetching","article","updateArticleSuccess","data","result","updateArticleFail","fetchArticleRequest","fetchArticleSuccess","fetchArticleFail","deleteArticleSuccess","articles","deleteArticleFail","createArticleRequest","createArticleSuccess","createArticleFail","fetchTagsSuccess","tags","fetchTagsFail","fetchTopicsSuccess","topics","fetchTopicsFail","fetchArticlesSuccess","fetchArticlesFail","fetchTags","dispatch","get","then","response","status","catch","error","fetchArticles","fetchTopics","createArticle","post","deleteArticle","article_id","newArticles","slice","delArticleIndex","findIndex","id","splice","err","fetchArticle","updateArticle","initialState","serverAlert","msg","display","articleReducer","state","action"],"mappings":"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","sourcesContent":["import api from '../lib/api'\nimport { push } from 'react-router-redux'\n\n/**\n * Constants\n */\nconst FETCH_ARTICLES_REQUEST = 'FETCH_ARTICLES_REQUEST'\nconst FETCH_ARTICLES_SUCCESS = 'FETCH_ARTICLES_SUCCESS'\nconst FETCH_ARTICLES_FAIL  = 'FETCH_ARTICLES_FAIL'\n\nconst FETCH_TOPICS_SUCCESS = 'FETCH_TOPICS_SUCESS'\nconst FETCH_TOPICS_FAIL = 'FETCH_TOPICS_FAIL'\n\nconst FETCH_TAGS_SUCCESS = 'FETCH_TAGS_SUCCESS'\nconst FETCH_TAGS_FAIL = 'FETCH_TAGS_FAIL'\n\nconst CREATE_ARTICLE_REQUEST = 'CREATE_ARTICLE_REQUEST'\nconst CREATE_ARTICLE_SUCCESS = 'CREATE_ARTICLE_SUCCESS'\nconst CREATE_ARTICLE_FAIL = 'CREATE_ARTICLE_FAIL'\n\nconst DELETE_ARTICLE_SUCCESS = 'DELETE_ARTICLE_SUCCESS'\nconst DELETE_ARTICLE_FAIL = 'DELETE_ARTICLE_FAIL'\n\nconst FETCH_ARTICLE_REQUEST = 'FETCH_ARTICLE_REQUEST'\nconst FETCH_ARTICLE_SUCCESS = 'FETCH_ARTICLE_SUCCESS'\nconst FETCH_ARTICLE_FAIL = 'FETCH_ARTICLE_FAIL'\n\nconst UPDATE_ARTICLE_REQUEST = 'UPDATE_ARTICLE_REQUEST'\nconst UPDATE_ARTICLE_SUCCESS = 'UPDATE_ARTICLE_SUCCESS'\nconst UPDATE_ARTICLE_FAIL = 'UPDATE_ARTICLE_FAIL'\n\n/**\n * Actions\n */\nfunction updateArticleRequest () {\n  console.log('updateArticleRequest')\n  return {\n    type: UPDATE_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true,\n      article: null\n    }\n  }\n}\n\nfunction updateArticleSuccess (data) {\n  console.log('updateArticleSuccess')\n  return {\n    type: UPDATE_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  }\n}\n\nfunction updateArticleFail () {\n  console.log('updateArticleFail')\n  return {\n    type: UPDATE_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  }\n}\n\nfunction fetchArticleRequest () {\n  console.log('fetchArticleRequest')\n  return {\n    type: FETCH_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  }\n}\n\nfunction fetchArticleSuccess (data) {\n  console.log('fetchArticleSuccess')\n  return {\n    type: FETCH_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  }\n}\n\nfunction fetchArticleFail () {\n  console.log('fetchArticleFail')\n  return {\n    type: FETCH_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  }\n}\n\nfunction deleteArticleSuccess (data) {\n  console.log('deleteArticleSuccess')\n  return {\n    type: DELETE_ARTICLE_SUCCESS,\n    payload: {\n      articles: data\n    }\n  }\n}\n\nfunction deleteArticleFail () {\n  console.log('deleteArticleFail')\n  return {\n    type: DELETE_ARTICLE_FAIL,\n    payload: {\n      articles: null\n    }\n  }\n}\n\nfunction createArticleRequest () {\n  console.log('createArticleRequest')\n  return {\n    type: CREATE_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  }\n}\n\nfunction createArticleSuccess (data) {\n  console.log('createArticleSuccess')\n  return {\n    type: CREATE_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  }\n}\n\nfunction createArticleFail () {\n  console.log('createArticleFail')\n  return {\n    type: CREATE_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  }\n}\n\nfunction fetchTagsSuccess (data) {\n  console.log('fetchTagsSuccess')\n  return {\n    type: FETCH_TAGS_SUCCESS,\n    payload: {\n      tags: data.result.tags\n    }\n  }\n}\n\nfunction fetchTagsFail () {\n  console.log('fetchTagsFail')\n  return {\n    type: FETCH_TAGS_FAIL,\n    payload: {\n      tags: null\n    }\n  }\n}\n\nfunction fetchTopicsSuccess (data) {\n  console.log('fetchTopicsSuccess')\n  return {\n    type: FETCH_TOPICS_SUCCESS,\n    payload: {\n      topics: data.result.topics\n    }\n  }\n}\n\nfunction fetchTopicsFail () {\n  console.log('fetchTopicsFail')\n  return {\n    type: FETCH_TOPICS_FAIL,\n    payload: {\n      topics: null\n    }\n  }\n}\n\nfunction fetchArticleRequest () {\n  console.log('fetchArticleRequest')\n  return {\n    type: FETCH_ARTICLES_REQUEST,\n    payload: {\n      isFetching: true,\n      articles: null\n    }\n  }\n}\n\nfunction fetchArticlesSuccess (data) {\n  console.log('fetchArticlesSuccess')\n  return {\n    type: FETCH_ARTICLES_SUCCESS,\n    payload: {\n      isFetching: false,\n      articles: data.result.articles\n    }\n  }\n}\n\nfunction fetchArticlesFail () {\n  console.log('fetchArticlesFail')\n  return {\n    type: FETCH_ARTICLES_FAIL,\n    payload: {\n      isFetching: false,\n      articles: null,\n      topics: []\n    }\n  }\n}\n\n/**\n * Action Dispatchers\n */\nexport function fetchTags () {\n  return dispatch => {\n    api\n      .get('/tags/index')\n      .then(response => {\n        if (response.data.status === 'ok') {\n          dispatch(fetchTagsSuccess(response.data))\n        } else {\n          dispatch(fetchTagsFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchTagsFail())\n      })\n  }\n}\n\nexport function fetchArticles () {\n  return dispatch => {\n    dispatch(fetchArticleRequest())\n    api\n      .get('/articles/index')\n      .then(response => {\n        console.log(response)\n        if (response.data.status === 'ok') {\n          dispatch(fetchArticlesSuccess(response.data))\n        } else {\n          dispatch(fetchArticlesFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchArticlesFail())\n      })\n  }\n}\n\nexport function fetchTopics () {\n  return dispatch => {\n    api\n      .get('/topics/index')\n      .then(response => {\n        if (response.data.status === 'ok') {\n          console.log(response.data)\n          dispatch(fetchTopicsSuccess(response.data))\n        } else {\n          dispatch(fetchTopicsFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchTopicsFail())\n      })\n  }\n}\n\nexport function createArticle (data) {\n  return dispatch => {\n    dispatch(createArticleRequest())\n    api\n      .post('/article/store', data)\n      .then(response => {\n        if (response.data.status === 'ok') {\n          dispatch(createArticleSuccess(response.data))\n          dispatch(push('/article/list'))\n        } else {\n          dispatch(createArticleFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(createArticleFail())\n      })\n  }\n}\n\nexport function deleteArticle (articles, article_id) {\n  return dispatch => {\n    try {\n\n      let newArticles = articles.slice()\n      let delArticleIndex = articles.findIndex(article => article.id === article_id)\n\n      newArticles.splice(delArticleIndex, 1)\n\n      api\n        .get('article/delete/'+article_id)\n        .then(response => {\n          if (response.data.status === 'ok') {\n            dispatch(deleteArticleSuccess(newArticles))\n          } else {\n            deleteArticleFail()\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          dispatch(deleteArticleFail())\n        })\n\n    } catch (err) {\n      dispatch(deleteArticleFail())\n    }\n  }\n}\n\nexport function fetchArticle (article_id) {\n  return dispatch => {\n    dispatch(fetchArticleRequest())\n    api\n      .get('/article/'+article_id)\n      .then(response => {\n        if (response.data.status === 'ok') {\n          dispatch(fetchArticleSuccess(response.data))\n        } else {\n          dispatch(fetchArticleFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchArticleFail())\n      })\n  }\n}\n\nexport function updateArticle (data) {\n  return dispatch => {\n    dispatch(updateArticleRequest())\n    api\n      .post('/article/update', data)\n      .then(response => {\n        if (response.data.status === 'ok') {\n          dispatch(updateArticleSuccess(response.data))\n          dispatch(fetchArticle(article_id))\n        } else {\n          dispatch(updateArticleFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(updateArticleFail())\n      })\n  }\n}\n\n/**\n * Reducer\n */\nconst initialState = {\n  isFetching: false,\n  articles: null,\n  topics: null,\n  tags: null,\n  serverAlert: {\n    type: null,\n    msg: null,\n    display: false\n  }\n}\n\nexport default function articleReducer (state = initialState, action) {\n  switch (action.type) {\n    case FETCH_ARTICLES_REQUEST:\n      return {\n        ...state,\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      }\n    case FETCH_ARTICLES_SUCCESS:\n      return {\n        ...state,\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      }\n    case FETCH_TOPICS_SUCCESS:\n      return {\n        ...state,\n        topics: action.payload.topics\n      }\n    case FETCH_TOPICS_FAIL:\n      return {\n        ...state,\n        topics: action.payload.topics\n      }\n    case FETCH_TAGS_SUCCESS:\n      return {\n        ...state,\n        tags: action.payload.tags\n      }\n    case FETCH_TAGS_FAIL:\n      return {\n        ...state,\n        tags: action.payload.tags\n      }\n    case DELETE_ARTICLE_SUCCESS:\n      return {\n        ...state,\n        articles: action.payload.articles\n      }\n    case DELETE_ARTICLE_FAIL:\n      return {\n        ...state,\n        articles: action.payload.articles\n      }\n    case FETCH_ARTICLE_REQUEST:\n      return {\n        ...state,\n        isFetching: action.payload.isFetching\n      }\n    case FETCH_ARTICLE_SUCCESS:\n      return {\n        ...state,\n        article: action.payload.article,\n        isFetching: action.payload.isFetching\n      }\n    case FETCH_ARTICLE_FAIL:\n      return {\n        ...state,\n        isFetching: false,\n        article: action.payload.article\n      }\n    default:\n      return state\n  }\n}"]},"metadata":{},"sourceType":"module"}