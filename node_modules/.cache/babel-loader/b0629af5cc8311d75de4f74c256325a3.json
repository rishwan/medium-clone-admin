{"ast":null,"code":"import _objectSpread from \"/Users/rishwan/Documents/projects/mediumclone-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport api from '../lib/api';\nimport { push } from 'react-router-redux';\n/**\n * Constants\n */\n\nvar FETCH_ARTICLES_REQUEST = 'FETCH_ARTICLES_REQUEST';\nvar FETCH_ARTICLES_SUCCESS = 'FETCH_ARTICLES_SUCCESS';\nvar FETCH_ARTICLES_FAIL = 'FETCH_ARTICLES_FAIL';\nvar FETCH_TOPICS_SUCCESS = 'FETCH_TOPICS_SUCESS';\nvar FETCH_TOPICS_FAIL = 'FETCH_TOPICS_FAIL';\nvar FETCH_TAGS_SUCCESS = 'FETCH_TAGS_SUCCESS';\nvar FETCH_TAGS_FAIL = 'FETCH_TAGS_FAIL';\nvar CREATE_ARTICLE_REQUEST = 'CREATE_ARTICLE_REQUEST';\nvar CREATE_ARTICLE_SUCCESS = 'CREATE_ARTICLE_SUCCESS';\nvar CREATE_ARTICLE_FAIL = 'CREATE_ARTICLE_FAIL';\nvar DELETE_ARTICLE_SUCCESS = 'DELETE_ARTICLE_SUCCESS';\nvar DELETE_ARTICLE_FAIL = 'DELETE_ARTICLE_FAIL';\nvar FETCH_ARTICLE_REQUEST = 'FETCH_ARTICLE_REQUEST';\nvar FETCH_ARTICLE_SUCCESS = 'FETCH_ARTICLE_SUCCESS';\nvar FETCH_ARTICLE_FAIL = 'FETCH_ARTICLE_FAIL';\nvar UPDATE_ARTICLE_REQUEST = 'UPDATE_ARTICLE_REQUEST';\nvar UPDATE_ARTICLE_SUCCESS = 'UPDATE_ARTICLE_SUCCESS';\nvar UPDATE_ARTICLE_FAIL = 'UPDATE_ARTICLE_FAIL';\n/**\n * Actions\n */\n\nfunction fetchArticleRequest() {\n  console.log('fetchArticleRequest');\n  return {\n    type: FETCH_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  };\n}\n\nfunction fetchArticleSuccess(data) {\n  console.log('fetchArticleSuccess');\n  return {\n    type: FETCH_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  };\n}\n\nfunction fetchArticleFail() {\n  console.log('fetchArticleFail');\n  return {\n    type: FETCH_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  };\n}\n\nfunction deleteArticleSuccess(data) {\n  console.log('deleteArticleSuccess');\n  return {\n    type: DELETE_ARTICLE_SUCCESS,\n    payload: {\n      articles: data\n    }\n  };\n}\n\nfunction deleteArticleFail() {\n  console.log('deleteArticleFail');\n  return {\n    type: DELETE_ARTICLE_FAIL,\n    payload: {\n      articles: null\n    }\n  };\n}\n\nfunction createArticleRequest() {\n  console.log('createArticleRequest');\n  return {\n    type: CREATE_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  };\n}\n\nfunction createArticleSuccess(data) {\n  console.log('createArticleSuccess');\n  return {\n    type: CREATE_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  };\n}\n\nfunction createArticleFail() {\n  console.log('createArticleFail');\n  return {\n    type: CREATE_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  };\n}\n\nfunction fetchTagsSuccess(data) {\n  console.log('fetchTagsSuccess');\n  return {\n    type: FETCH_TAGS_SUCCESS,\n    payload: {\n      tags: data.result.tags\n    }\n  };\n}\n\nfunction fetchTagsFail() {\n  console.log('fetchTagsFail');\n  return {\n    type: FETCH_TAGS_FAIL,\n    payload: {\n      tags: null\n    }\n  };\n}\n\nfunction fetchTopicsSuccess(data) {\n  console.log('fetchTopicsSuccess');\n  return {\n    type: FETCH_TOPICS_SUCCESS,\n    payload: {\n      topics: data.result.topics\n    }\n  };\n}\n\nfunction fetchTopicsFail() {\n  console.log('fetchTopicsFail');\n  return {\n    type: FETCH_TOPICS_FAIL,\n    payload: {\n      topics: null\n    }\n  };\n}\n\nfunction fetchArticleRequest() {\n  console.log('fetchArticleRequest');\n  return {\n    type: FETCH_ARTICLES_REQUEST,\n    payload: {\n      isFetching: true,\n      articles: null\n    }\n  };\n}\n\nfunction fetchArticlesSuccess(data) {\n  console.log('fetchArticlesSuccess');\n  return {\n    type: FETCH_ARTICLES_SUCCESS,\n    payload: {\n      isFetching: false,\n      articles: data.result.articles\n    }\n  };\n}\n\nfunction fetchArticlesFail() {\n  console.log('fetchArticlesFail');\n  return {\n    type: FETCH_ARTICLES_FAIL,\n    payload: {\n      isFetching: false,\n      articles: null,\n      topics: []\n    }\n  };\n}\n/**\n * Action Dispatchers\n */\n\n\nexport function fetchTags() {\n  return function (dispatch) {\n    api.get('/tags/index').then(function (response) {\n      if (response.data.status === 'ok') {\n        dispatch(fetchTagsSuccess(response.data));\n      } else {\n        dispatch(fetchTagsFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchTagsFail());\n    });\n  };\n}\nexport function fetchArticles() {\n  return function (dispatch) {\n    dispatch(fetchArticleRequest());\n    api.get('/articles/index').then(function (response) {\n      console.log(response);\n\n      if (response.data.status === 'ok') {\n        dispatch(fetchArticlesSuccess(response.data));\n      } else {\n        dispatch(fetchArticlesFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchArticlesFail());\n    });\n  };\n}\nexport function fetchTopics() {\n  return function (dispatch) {\n    api.get('/topics/index').then(function (response) {\n      if (response.data.status === 'ok') {\n        console.log(response.data);\n        dispatch(fetchTopicsSuccess(response.data));\n      } else {\n        dispatch(fetchTopicsFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchTopicsFail());\n    });\n  };\n}\nexport function createArticle(data) {\n  return function (dispatch) {\n    dispatch(createArticleRequest());\n    api.post('/article/store', data).then(function (response) {\n      if (response.data.status === 'ok') {\n        dispatch(createArticleSuccess(response.data));\n        dispatch(push('/article/list'));\n      } else {\n        dispatch(createArticleFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(createArticleFail());\n    });\n  };\n}\nexport function deleteArticle(articles, article_id) {\n  return function (dispatch) {\n    try {\n      var newArticles = articles.slice();\n      var delArticleIndex = articles.findIndex(function (article) {\n        return article.id === article_id;\n      });\n      newArticles.splice(delArticleIndex, 1);\n      api.get('article/delete/' + article_id).then(function (response) {\n        if (response.data.status === 'ok') {\n          dispatch(deleteArticleSuccess(newArticles));\n        } else {\n          deleteArticleFail();\n        }\n      }).catch(function (error) {\n        console.log(error);\n        dispatch(deleteArticleFail());\n      });\n    } catch (err) {\n      dispatch(deleteArticleFail());\n    }\n  };\n}\nexport function fetchArticle(article_id) {\n  return function (dispatch) {\n    dispatch(fetchArticleRequest());\n    api.get('/article/' + article_id).then(function (response) {\n      if (response.data.status === 'ok') {\n        dispatch(fetchArticleSuccess(response.data));\n      } else {\n        dispatch(fetchArticleFail());\n      }\n    }).catch(function (error) {\n      console.log(error);\n      dispatch(fetchArticleFail());\n    });\n  };\n}\n/**\n * Reducer\n */\n\nvar initialState = {\n  isFetching: false,\n  articles: null,\n  topics: null,\n  tags: null,\n  serverAlert: {\n    type: null,\n    msg: null,\n    display: false\n  }\n};\nexport default function articleReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_ARTICLES_REQUEST:\n      return _objectSpread({}, state, {\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      });\n\n    case FETCH_ARTICLES_SUCCESS:\n      return _objectSpread({}, state, {\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      });\n\n    case FETCH_TOPICS_SUCCESS:\n      return _objectSpread({}, state, {\n        topics: action.payload.topics\n      });\n\n    case FETCH_TOPICS_FAIL:\n      return _objectSpread({}, state, {\n        topics: action.payload.topics\n      });\n\n    case FETCH_TAGS_SUCCESS:\n      return _objectSpread({}, state, {\n        tags: action.payload.tags\n      });\n\n    case FETCH_TAGS_FAIL:\n      return _objectSpread({}, state, {\n        tags: action.payload.tags\n      });\n\n    case DELETE_ARTICLE_SUCCESS:\n      return _objectSpread({}, state, {\n        articles: action.payload.articles\n      });\n\n    case DELETE_ARTICLE_FAIL:\n      return _objectSpread({}, state, {\n        articles: action.payload.articles\n      });\n\n    case FETCH_ARTICLE_REQUEST:\n      return _objectSpread({}, state, {\n        isFetching: action.payload.isFetching\n      });\n\n    case FETCH_ARTICLE_SUCCESS:\n      return _objectSpread({}, state, {\n        article: action.payload.article,\n        isFetching: action.payload.isFetching\n      });\n\n    case FETCH_ARTICLE_FAIL:\n      return _objectSpread({}, state, {\n        isFetching: false,\n        article: action.payload.article\n      });\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/rishwan/Documents/projects/mediumclone-admin/src/modules/articles.js"],"names":["api","push","FETCH_ARTICLES_REQUEST","FETCH_ARTICLES_SUCCESS","FETCH_ARTICLES_FAIL","FETCH_TOPICS_SUCCESS","FETCH_TOPICS_FAIL","FETCH_TAGS_SUCCESS","FETCH_TAGS_FAIL","CREATE_ARTICLE_REQUEST","CREATE_ARTICLE_SUCCESS","CREATE_ARTICLE_FAIL","DELETE_ARTICLE_SUCCESS","DELETE_ARTICLE_FAIL","FETCH_ARTICLE_REQUEST","FETCH_ARTICLE_SUCCESS","FETCH_ARTICLE_FAIL","UPDATE_ARTICLE_REQUEST","UPDATE_ARTICLE_SUCCESS","UPDATE_ARTICLE_FAIL","fetchArticleRequest","console","log","type","payload","isFetching","fetchArticleSuccess","data","article","result","fetchArticleFail","deleteArticleSuccess","articles","deleteArticleFail","createArticleRequest","createArticleSuccess","createArticleFail","fetchTagsSuccess","tags","fetchTagsFail","fetchTopicsSuccess","topics","fetchTopicsFail","fetchArticlesSuccess","fetchArticlesFail","fetchTags","dispatch","get","then","response","status","catch","error","fetchArticles","fetchTopics","createArticle","post","deleteArticle","article_id","newArticles","slice","delArticleIndex","findIndex","id","splice","err","fetchArticle","initialState","serverAlert","msg","display","articleReducer","state","action"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,YAAhB;AACA,SAASC,IAAT,QAAqB,oBAArB;AAEA;;;;AAGA,IAAMC,sBAAsB,GAAG,wBAA/B;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AACA,IAAMC,mBAAmB,GAAI,qBAA7B;AAEA,IAAMC,oBAAoB,GAAG,qBAA7B;AACA,IAAMC,iBAAiB,GAAG,mBAA1B;AAEA,IAAMC,kBAAkB,GAAG,oBAA3B;AACA,IAAMC,eAAe,GAAG,iBAAxB;AAEA,IAAMC,sBAAsB,GAAG,wBAA/B;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AACA,IAAMC,mBAAmB,GAAG,qBAA5B;AAEA,IAAMC,sBAAsB,GAAG,wBAA/B;AACA,IAAMC,mBAAmB,GAAG,qBAA5B;AAEA,IAAMC,qBAAqB,GAAG,uBAA9B;AACA,IAAMC,qBAAqB,GAAG,uBAA9B;AACA,IAAMC,kBAAkB,GAAG,oBAA3B;AAEA,IAAMC,sBAAsB,GAAG,wBAA/B;AACA,IAAMC,sBAAsB,GAAG,wBAA/B;AACA,IAAMC,mBAAmB,GAAG,qBAA5B;AAEA;;;;AAGA,SAASC,mBAAT,GAAgC;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAET,qBADD;AAELU,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE;AADL;AAFJ,GAAP;AAMD;;AAED,SAASC,mBAAT,CAA8BC,IAA9B,EAAoC;AAClCN,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAER,qBADD;AAELS,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,KADL;AAEPG,MAAAA,OAAO,EAAED,IAAI,CAACE,MAAL,CAAYD;AAFd;AAFJ,GAAP;AAOD;;AAED,SAASE,gBAAT,GAA6B;AAC3BT,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEP,kBADD;AAELQ,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,KADL;AAEPG,MAAAA,OAAO,EAAE;AAFF;AAFJ,GAAP;AAOD;;AAED,SAASG,oBAAT,CAA+BJ,IAA/B,EAAqC;AACnCN,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEX,sBADD;AAELY,IAAAA,OAAO,EAAE;AACPQ,MAAAA,QAAQ,EAAEL;AADH;AAFJ,GAAP;AAMD;;AAED,SAASM,iBAAT,GAA8B;AAC5BZ,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEV,mBADD;AAELW,IAAAA,OAAO,EAAE;AACPQ,MAAAA,QAAQ,EAAE;AADH;AAFJ,GAAP;AAMD;;AAED,SAASE,oBAAT,GAAiC;AAC/Bb,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEd,sBADD;AAELe,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE;AADL;AAFJ,GAAP;AAMD;;AAED,SAASU,oBAAT,CAA+BR,IAA/B,EAAqC;AACnCN,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEb,sBADD;AAELc,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,KADL;AAEPG,MAAAA,OAAO,EAAED,IAAI,CAACE,MAAL,CAAYD;AAFd;AAFJ,GAAP;AAOD;;AAED,SAASQ,iBAAT,GAA8B;AAC5Bf,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEZ,mBADD;AAELa,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,KADL;AAEPG,MAAAA,OAAO,EAAE;AAFF;AAFJ,GAAP;AAOD;;AAED,SAASS,gBAAT,CAA2BV,IAA3B,EAAiC;AAC/BN,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEhB,kBADD;AAELiB,IAAAA,OAAO,EAAE;AACPc,MAAAA,IAAI,EAAEX,IAAI,CAACE,MAAL,CAAYS;AADX;AAFJ,GAAP;AAMD;;AAED,SAASC,aAAT,GAA0B;AACxBlB,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEf,eADD;AAELgB,IAAAA,OAAO,EAAE;AACPc,MAAAA,IAAI,EAAE;AADC;AAFJ,GAAP;AAMD;;AAED,SAASE,kBAAT,CAA6Bb,IAA7B,EAAmC;AACjCN,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAElB,oBADD;AAELmB,IAAAA,OAAO,EAAE;AACPiB,MAAAA,MAAM,EAAEd,IAAI,CAACE,MAAL,CAAYY;AADb;AAFJ,GAAP;AAMD;;AAED,SAASC,eAAT,GAA4B;AAC1BrB,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEjB,iBADD;AAELkB,IAAAA,OAAO,EAAE;AACPiB,MAAAA,MAAM,EAAE;AADD;AAFJ,GAAP;AAMD;;AAED,SAASrB,mBAAT,GAAgC;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAErB,sBADD;AAELsB,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,IADL;AAEPO,MAAAA,QAAQ,EAAE;AAFH;AAFJ,GAAP;AAOD;;AAED,SAASW,oBAAT,CAA+BhB,IAA/B,EAAqC;AACnCN,EAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEpB,sBADD;AAELqB,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,KADL;AAEPO,MAAAA,QAAQ,EAAEL,IAAI,CAACE,MAAL,CAAYG;AAFf;AAFJ,GAAP;AAOD;;AAED,SAASY,iBAAT,GAA8B;AAC5BvB,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,SAAO;AACLC,IAAAA,IAAI,EAAEnB,mBADD;AAELoB,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,KADL;AAEPO,MAAAA,QAAQ,EAAE,IAFH;AAGPS,MAAAA,MAAM,EAAE;AAHD;AAFJ,GAAP;AAQD;AAED;;;;;AAGA,OAAO,SAASI,SAAT,GAAsB;AAC3B,SAAO,UAAAC,QAAQ,EAAI;AACjB9C,IAAAA,GAAG,CACA+C,GADH,CACO,aADP,EAEGC,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB,UAAIA,QAAQ,CAACtB,IAAT,CAAcuB,MAAd,KAAyB,IAA7B,EAAmC;AACjCJ,QAAAA,QAAQ,CAACT,gBAAgB,CAACY,QAAQ,CAACtB,IAAV,CAAjB,CAAR;AACD,OAFD,MAEO;AACLmB,QAAAA,QAAQ,CAACP,aAAa,EAAd,CAAR;AACD;AACF,KARH,EASGY,KATH,CASS,UAAAC,KAAK,EAAI;AACd/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,KAAZ;AACAN,MAAAA,QAAQ,CAACP,aAAa,EAAd,CAAR;AACD,KAZH;AAaD,GAdD;AAeD;AAED,OAAO,SAASc,aAAT,GAA0B;AAC/B,SAAO,UAAAP,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC1B,mBAAmB,EAApB,CAAR;AACApB,IAAAA,GAAG,CACA+C,GADH,CACO,iBADP,EAEGC,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB5B,MAAAA,OAAO,CAACC,GAAR,CAAY2B,QAAZ;;AACA,UAAIA,QAAQ,CAACtB,IAAT,CAAcuB,MAAd,KAAyB,IAA7B,EAAmC;AACjCJ,QAAAA,QAAQ,CAACH,oBAAoB,CAACM,QAAQ,CAACtB,IAAV,CAArB,CAAR;AACD,OAFD,MAEO;AACLmB,QAAAA,QAAQ,CAACF,iBAAiB,EAAlB,CAAR;AACD;AACF,KATH,EAUGO,KAVH,CAUS,UAAAC,KAAK,EAAI;AACd/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,KAAZ;AACAN,MAAAA,QAAQ,CAACF,iBAAiB,EAAlB,CAAR;AACD,KAbH;AAcD,GAhBD;AAiBD;AAED,OAAO,SAASU,WAAT,GAAwB;AAC7B,SAAO,UAAAR,QAAQ,EAAI;AACjB9C,IAAAA,GAAG,CACA+C,GADH,CACO,eADP,EAEGC,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB,UAAIA,QAAQ,CAACtB,IAAT,CAAcuB,MAAd,KAAyB,IAA7B,EAAmC;AACjC7B,QAAAA,OAAO,CAACC,GAAR,CAAY2B,QAAQ,CAACtB,IAArB;AACAmB,QAAAA,QAAQ,CAACN,kBAAkB,CAACS,QAAQ,CAACtB,IAAV,CAAnB,CAAR;AACD,OAHD,MAGO;AACLmB,QAAAA,QAAQ,CAACJ,eAAe,EAAhB,CAAR;AACD;AACF,KATH,EAUGS,KAVH,CAUS,UAAAC,KAAK,EAAI;AACd/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,KAAZ;AACAN,MAAAA,QAAQ,CAACJ,eAAe,EAAhB,CAAR;AACD,KAbH;AAcD,GAfD;AAgBD;AAED,OAAO,SAASa,aAAT,CAAwB5B,IAAxB,EAA8B;AACnC,SAAO,UAAAmB,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACZ,oBAAoB,EAArB,CAAR;AACAlC,IAAAA,GAAG,CACAwD,IADH,CACQ,gBADR,EAC0B7B,IAD1B,EAEGqB,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB,UAAIA,QAAQ,CAACtB,IAAT,CAAcuB,MAAd,KAAyB,IAA7B,EAAmC;AACjCJ,QAAAA,QAAQ,CAACX,oBAAoB,CAACc,QAAQ,CAACtB,IAAV,CAArB,CAAR;AACAmB,QAAAA,QAAQ,CAAC7C,IAAI,CAAC,eAAD,CAAL,CAAR;AACD,OAHD,MAGO;AACL6C,QAAAA,QAAQ,CAACV,iBAAiB,EAAlB,CAAR;AACD;AACF,KATH,EAUGe,KAVH,CAUS,UAAAC,KAAK,EAAI;AACd/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,KAAZ;AACAN,MAAAA,QAAQ,CAACV,iBAAiB,EAAlB,CAAR;AACD,KAbH;AAcD,GAhBD;AAiBD;AAED,OAAO,SAASqB,aAAT,CAAwBzB,QAAxB,EAAkC0B,UAAlC,EAA8C;AACnD,SAAO,UAAAZ,QAAQ,EAAI;AACjB,QAAI;AAEF,UAAIa,WAAW,GAAG3B,QAAQ,CAAC4B,KAAT,EAAlB;AACA,UAAIC,eAAe,GAAG7B,QAAQ,CAAC8B,SAAT,CAAmB,UAAAlC,OAAO;AAAA,eAAIA,OAAO,CAACmC,EAAR,KAAeL,UAAnB;AAAA,OAA1B,CAAtB;AAEAC,MAAAA,WAAW,CAACK,MAAZ,CAAmBH,eAAnB,EAAoC,CAApC;AAEA7D,MAAAA,GAAG,CACA+C,GADH,CACO,oBAAkBW,UADzB,EAEGV,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB,YAAIA,QAAQ,CAACtB,IAAT,CAAcuB,MAAd,KAAyB,IAA7B,EAAmC;AACjCJ,UAAAA,QAAQ,CAACf,oBAAoB,CAAC4B,WAAD,CAArB,CAAR;AACD,SAFD,MAEO;AACL1B,UAAAA,iBAAiB;AAClB;AACF,OARH,EASGkB,KATH,CASS,UAAAC,KAAK,EAAI;AACd/B,QAAAA,OAAO,CAACC,GAAR,CAAY8B,KAAZ;AACAN,QAAAA,QAAQ,CAACb,iBAAiB,EAAlB,CAAR;AACD,OAZH;AAcD,KArBD,CAqBE,OAAOgC,GAAP,EAAY;AACZnB,MAAAA,QAAQ,CAACb,iBAAiB,EAAlB,CAAR;AACD;AACF,GAzBD;AA0BD;AAED,OAAO,SAASiC,YAAT,CAAuBR,UAAvB,EAAmC;AACxC,SAAO,UAAAZ,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC1B,mBAAmB,EAApB,CAAR;AACApB,IAAAA,GAAG,CACA+C,GADH,CACO,cAAYW,UADnB,EAEGV,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB,UAAIA,QAAQ,CAACtB,IAAT,CAAcuB,MAAd,KAAyB,IAA7B,EAAmC;AACjCJ,QAAAA,QAAQ,CAACpB,mBAAmB,CAACuB,QAAQ,CAACtB,IAAV,CAApB,CAAR;AACD,OAFD,MAEO;AACLmB,QAAAA,QAAQ,CAAChB,gBAAgB,EAAjB,CAAR;AACD;AACF,KARH,EASGqB,KATH,CASS,UAAAC,KAAK,EAAI;AACd/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,KAAZ;AACAN,MAAAA,QAAQ,CAAChB,gBAAgB,EAAjB,CAAR;AACD,KAZH;AAaD,GAfD;AAgBD;AAED;;;;AAGA,IAAMqC,YAAY,GAAG;AACnB1C,EAAAA,UAAU,EAAE,KADO;AAEnBO,EAAAA,QAAQ,EAAE,IAFS;AAGnBS,EAAAA,MAAM,EAAE,IAHW;AAInBH,EAAAA,IAAI,EAAE,IAJa;AAKnB8B,EAAAA,WAAW,EAAE;AACX7C,IAAAA,IAAI,EAAE,IADK;AAEX8C,IAAAA,GAAG,EAAE,IAFM;AAGXC,IAAAA,OAAO,EAAE;AAHE;AALM,CAArB;AAYA,eAAe,SAASC,cAAT,GAAuD;AAAA,MAA9BC,KAA8B,uEAAtBL,YAAsB;AAAA,MAARM,MAAQ;;AACpE,UAAQA,MAAM,CAAClD,IAAf;AACE,SAAKrB,sBAAL;AACE,+BACKsE,KADL;AAEE/C,QAAAA,UAAU,EAAEgD,MAAM,CAACjD,OAAP,CAAeC,UAF7B;AAGEO,QAAAA,QAAQ,EAAEyC,MAAM,CAACjD,OAAP,CAAeQ;AAH3B;;AAKF,SAAK7B,sBAAL;AACE,+BACKqE,KADL;AAEE/C,QAAAA,UAAU,EAAEgD,MAAM,CAACjD,OAAP,CAAeC,UAF7B;AAGEO,QAAAA,QAAQ,EAAEyC,MAAM,CAACjD,OAAP,CAAeQ;AAH3B;;AAKF,SAAK3B,oBAAL;AACE,+BACKmE,KADL;AAEE/B,QAAAA,MAAM,EAAEgC,MAAM,CAACjD,OAAP,CAAeiB;AAFzB;;AAIF,SAAKnC,iBAAL;AACE,+BACKkE,KADL;AAEE/B,QAAAA,MAAM,EAAEgC,MAAM,CAACjD,OAAP,CAAeiB;AAFzB;;AAIF,SAAKlC,kBAAL;AACE,+BACKiE,KADL;AAEElC,QAAAA,IAAI,EAAEmC,MAAM,CAACjD,OAAP,CAAec;AAFvB;;AAIF,SAAK9B,eAAL;AACE,+BACKgE,KADL;AAEElC,QAAAA,IAAI,EAAEmC,MAAM,CAACjD,OAAP,CAAec;AAFvB;;AAIF,SAAK1B,sBAAL;AACE,+BACK4D,KADL;AAEExC,QAAAA,QAAQ,EAAEyC,MAAM,CAACjD,OAAP,CAAeQ;AAF3B;;AAIF,SAAKnB,mBAAL;AACE,+BACK2D,KADL;AAEExC,QAAAA,QAAQ,EAAEyC,MAAM,CAACjD,OAAP,CAAeQ;AAF3B;;AAIF,SAAKlB,qBAAL;AACE,+BACK0D,KADL;AAEE/C,QAAAA,UAAU,EAAEgD,MAAM,CAACjD,OAAP,CAAeC;AAF7B;;AAIF,SAAKV,qBAAL;AACE,+BACKyD,KADL;AAEE5C,QAAAA,OAAO,EAAE6C,MAAM,CAACjD,OAAP,CAAeI,OAF1B;AAGEH,QAAAA,UAAU,EAAEgD,MAAM,CAACjD,OAAP,CAAeC;AAH7B;;AAKF,SAAKT,kBAAL;AACE,+BACKwD,KADL;AAEE/C,QAAAA,UAAU,EAAE,KAFd;AAGEG,QAAAA,OAAO,EAAE6C,MAAM,CAACjD,OAAP,CAAeI;AAH1B;;AAKF;AACE,aAAO4C,KAAP;AA7DJ;AA+DD","sourcesContent":["import api from '../lib/api'\nimport { push } from 'react-router-redux'\n\n/**\n * Constants\n */\nconst FETCH_ARTICLES_REQUEST = 'FETCH_ARTICLES_REQUEST'\nconst FETCH_ARTICLES_SUCCESS = 'FETCH_ARTICLES_SUCCESS'\nconst FETCH_ARTICLES_FAIL  = 'FETCH_ARTICLES_FAIL'\n\nconst FETCH_TOPICS_SUCCESS = 'FETCH_TOPICS_SUCESS'\nconst FETCH_TOPICS_FAIL = 'FETCH_TOPICS_FAIL'\n\nconst FETCH_TAGS_SUCCESS = 'FETCH_TAGS_SUCCESS'\nconst FETCH_TAGS_FAIL = 'FETCH_TAGS_FAIL'\n\nconst CREATE_ARTICLE_REQUEST = 'CREATE_ARTICLE_REQUEST'\nconst CREATE_ARTICLE_SUCCESS = 'CREATE_ARTICLE_SUCCESS'\nconst CREATE_ARTICLE_FAIL = 'CREATE_ARTICLE_FAIL'\n\nconst DELETE_ARTICLE_SUCCESS = 'DELETE_ARTICLE_SUCCESS'\nconst DELETE_ARTICLE_FAIL = 'DELETE_ARTICLE_FAIL'\n\nconst FETCH_ARTICLE_REQUEST = 'FETCH_ARTICLE_REQUEST'\nconst FETCH_ARTICLE_SUCCESS = 'FETCH_ARTICLE_SUCCESS'\nconst FETCH_ARTICLE_FAIL = 'FETCH_ARTICLE_FAIL'\n\nconst UPDATE_ARTICLE_REQUEST = 'UPDATE_ARTICLE_REQUEST'\nconst UPDATE_ARTICLE_SUCCESS = 'UPDATE_ARTICLE_SUCCESS'\nconst UPDATE_ARTICLE_FAIL = 'UPDATE_ARTICLE_FAIL'\n\n/**\n * Actions\n */\nfunction fetchArticleRequest () {\n  console.log('fetchArticleRequest')\n  return {\n    type: FETCH_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  }\n}\n\nfunction fetchArticleSuccess (data) {\n  console.log('fetchArticleSuccess')\n  return {\n    type: FETCH_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  }\n}\n\nfunction fetchArticleFail () {\n  console.log('fetchArticleFail')\n  return {\n    type: FETCH_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  }\n}\n\nfunction deleteArticleSuccess (data) {\n  console.log('deleteArticleSuccess')\n  return {\n    type: DELETE_ARTICLE_SUCCESS,\n    payload: {\n      articles: data\n    }\n  }\n}\n\nfunction deleteArticleFail () {\n  console.log('deleteArticleFail')\n  return {\n    type: DELETE_ARTICLE_FAIL,\n    payload: {\n      articles: null\n    }\n  }\n}\n\nfunction createArticleRequest () {\n  console.log('createArticleRequest')\n  return {\n    type: CREATE_ARTICLE_REQUEST,\n    payload: {\n      isFetching: true\n    }\n  }\n}\n\nfunction createArticleSuccess (data) {\n  console.log('createArticleSuccess')\n  return {\n    type: CREATE_ARTICLE_SUCCESS,\n    payload: {\n      isFetching: false,\n      article: data.result.article\n    }\n  }\n}\n\nfunction createArticleFail () {\n  console.log('createArticleFail')\n  return {\n    type: CREATE_ARTICLE_FAIL,\n    payload: {\n      isFetching: false,\n      article: null\n    }\n  }\n}\n\nfunction fetchTagsSuccess (data) {\n  console.log('fetchTagsSuccess')\n  return {\n    type: FETCH_TAGS_SUCCESS,\n    payload: {\n      tags: data.result.tags\n    }\n  }\n}\n\nfunction fetchTagsFail () {\n  console.log('fetchTagsFail')\n  return {\n    type: FETCH_TAGS_FAIL,\n    payload: {\n      tags: null\n    }\n  }\n}\n\nfunction fetchTopicsSuccess (data) {\n  console.log('fetchTopicsSuccess')\n  return {\n    type: FETCH_TOPICS_SUCCESS,\n    payload: {\n      topics: data.result.topics\n    }\n  }\n}\n\nfunction fetchTopicsFail () {\n  console.log('fetchTopicsFail')\n  return {\n    type: FETCH_TOPICS_FAIL,\n    payload: {\n      topics: null\n    }\n  }\n}\n\nfunction fetchArticleRequest () {\n  console.log('fetchArticleRequest')\n  return {\n    type: FETCH_ARTICLES_REQUEST,\n    payload: {\n      isFetching: true,\n      articles: null\n    }\n  }\n}\n\nfunction fetchArticlesSuccess (data) {\n  console.log('fetchArticlesSuccess')\n  return {\n    type: FETCH_ARTICLES_SUCCESS,\n    payload: {\n      isFetching: false,\n      articles: data.result.articles\n    }\n  }\n}\n\nfunction fetchArticlesFail () {\n  console.log('fetchArticlesFail')\n  return {\n    type: FETCH_ARTICLES_FAIL,\n    payload: {\n      isFetching: false,\n      articles: null,\n      topics: []\n    }\n  }\n}\n\n/**\n * Action Dispatchers\n */\nexport function fetchTags () {\n  return dispatch => {\n    api\n      .get('/tags/index')\n      .then(response => {\n        if (response.data.status === 'ok') {\n          dispatch(fetchTagsSuccess(response.data))\n        } else {\n          dispatch(fetchTagsFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchTagsFail())\n      })\n  }\n}\n\nexport function fetchArticles () {\n  return dispatch => {\n    dispatch(fetchArticleRequest())\n    api\n      .get('/articles/index')\n      .then(response => {\n        console.log(response)\n        if (response.data.status === 'ok') {\n          dispatch(fetchArticlesSuccess(response.data))\n        } else {\n          dispatch(fetchArticlesFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchArticlesFail())\n      })\n  }\n}\n\nexport function fetchTopics () {\n  return dispatch => {\n    api\n      .get('/topics/index')\n      .then(response => {\n        if (response.data.status === 'ok') {\n          console.log(response.data)\n          dispatch(fetchTopicsSuccess(response.data))\n        } else {\n          dispatch(fetchTopicsFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchTopicsFail())\n      })\n  }\n}\n\nexport function createArticle (data) {\n  return dispatch => {\n    dispatch(createArticleRequest())\n    api\n      .post('/article/store', data)\n      .then(response => {\n        if (response.data.status === 'ok') {\n          dispatch(createArticleSuccess(response.data))\n          dispatch(push('/article/list'))\n        } else {\n          dispatch(createArticleFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(createArticleFail())\n      })\n  }\n}\n\nexport function deleteArticle (articles, article_id) {\n  return dispatch => {\n    try {\n\n      let newArticles = articles.slice()\n      let delArticleIndex = articles.findIndex(article => article.id === article_id)\n\n      newArticles.splice(delArticleIndex, 1)\n\n      api\n        .get('article/delete/'+article_id)\n        .then(response => {\n          if (response.data.status === 'ok') {\n            dispatch(deleteArticleSuccess(newArticles))\n          } else {\n            deleteArticleFail()\n          }\n        })\n        .catch(error => {\n          console.log(error)\n          dispatch(deleteArticleFail())\n        })\n\n    } catch (err) {\n      dispatch(deleteArticleFail())\n    }\n  }\n}\n\nexport function fetchArticle (article_id) {\n  return dispatch => {\n    dispatch(fetchArticleRequest())\n    api\n      .get('/article/'+article_id)\n      .then(response => {\n        if (response.data.status === 'ok') {\n          dispatch(fetchArticleSuccess(response.data))\n        } else {\n          dispatch(fetchArticleFail())\n        }\n      })\n      .catch(error => {\n        console.log(error)\n        dispatch(fetchArticleFail())\n      })\n  }\n}\n\n/**\n * Reducer\n */\nconst initialState = {\n  isFetching: false,\n  articles: null,\n  topics: null,\n  tags: null,\n  serverAlert: {\n    type: null,\n    msg: null,\n    display: false\n  }\n}\n\nexport default function articleReducer (state = initialState, action) {\n  switch (action.type) {\n    case FETCH_ARTICLES_REQUEST:\n      return {\n        ...state,\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      }\n    case FETCH_ARTICLES_SUCCESS:\n      return {\n        ...state,\n        isFetching: action.payload.isFetching,\n        articles: action.payload.articles\n      }\n    case FETCH_TOPICS_SUCCESS:\n      return {\n        ...state,\n        topics: action.payload.topics\n      }\n    case FETCH_TOPICS_FAIL:\n      return {\n        ...state,\n        topics: action.payload.topics\n      }\n    case FETCH_TAGS_SUCCESS:\n      return {\n        ...state,\n        tags: action.payload.tags\n      }\n    case FETCH_TAGS_FAIL:\n      return {\n        ...state,\n        tags: action.payload.tags\n      }\n    case DELETE_ARTICLE_SUCCESS:\n      return {\n        ...state,\n        articles: action.payload.articles\n      }\n    case DELETE_ARTICLE_FAIL:\n      return {\n        ...state,\n        articles: action.payload.articles\n      }\n    case FETCH_ARTICLE_REQUEST:\n      return {\n        ...state,\n        isFetching: action.payload.isFetching\n      }\n    case FETCH_ARTICLE_SUCCESS:\n      return {\n        ...state,\n        article: action.payload.article,\n        isFetching: action.payload.isFetching\n      }\n    case FETCH_ARTICLE_FAIL:\n      return {\n        ...state,\n        isFetching: false,\n        article: action.payload.article\n      }\n    default:\n      return state\n  }\n}"]},"metadata":{},"sourceType":"module"}