{"ast":null,"code":"import _classCallCheck from \"/Users/rishwan/Documents/projects/mediumclone-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rishwan/Documents/projects/mediumclone-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rishwan/Documents/projects/mediumclone-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rishwan/Documents/projects/mediumclone-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/rishwan/Documents/projects/mediumclone-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/rishwan/Documents/projects/mediumclone-admin/src/pages/article/article_list/components/ArticeListingTable.js\";\nimport React from 'react';\nimport { Table, Divider, Popconfirm, Button } from \"antd\";\nimport ArticlesContext from '../../ArticlesContext';\nimport { Link } from 'react-router-dom';\n\nvar ArticleListingTable =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ArticleListingTable, _React$Component);\n\n  function ArticleListingTable(props) {\n    var _this;\n\n    _classCallCheck(this, ArticleListingTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ArticleListingTable).call(this, props));\n\n    _this.handleDelete = function (id) {\n      _this.props.articles.deleteArticle(_this.props.articles.articles, id); //console.log(this.props.articles)\n\n    };\n\n    _this.state = {\n      columns: [{\n        title: \"\",\n        dataIndex: \"thumbnail_url\",\n        key: \"thumbnailUrl\",\n        width: 10,\n        render: function render(text, record) {\n          return React.createElement(\"img\", {\n            src: record.feature_img_small_url,\n            alt: record.title,\n            height: 32,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 19\n            },\n            __self: this\n          });\n        }\n      }, {\n        title: 'ID',\n        key: 'id',\n        dataIndex: 'id'\n      }, {\n        title: 'Date',\n        key: 'date',\n        dataIndex: 'created_at'\n      }, {\n        title: 'Title',\n        key: 'title',\n        dataIndex: 'title'\n      }, {\n        title: 'Topic',\n        key: 'Topic',\n        dataIndex: 'topic.title'\n      }, {\n        title: 'operation',\n        dataIndex: 'operation',\n        width: 200,\n        align: 'right',\n        render: function render(text, record) {\n          return React.createElement(React.Fragment, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }, React.createElement(Button.Group, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34\n            },\n            __self: this\n          }, React.createElement(Popconfirm, {\n            title: \"Sure to delete?\",\n            onConfirm: function onConfirm() {\n              return _this.handleDelete(record.id);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }, React.createElement(Button, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36\n            },\n            __self: this\n          }, \"Delete\")), React.createElement(Button, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }, \"Edit\")));\n        }\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(ArticleListingTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log('listing table');\n      this.props.articles.fetchArticles();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Articles\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/article/create\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Create\"), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(Table, {\n        bordered: true,\n        loading: this.props.articles.isFetching,\n        rowKey: function rowKey(record) {\n          return record.id;\n        },\n        columns: this.state.columns,\n        dataSource: this.props.articles.articles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ArticleListingTable;\n}(React.Component);\n\nexport default React.forwardRef(function (props, ref) {\n  return React.createElement(ArticlesContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, function (articles) {\n    return React.createElement(ArticleListingTable, Object.assign({}, props, {\n      articles: articles,\n      ref: ref,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }));\n  });\n});","map":{"version":3,"sources":["/Users/rishwan/Documents/projects/mediumclone-admin/src/pages/article/article_list/components/ArticeListingTable.js"],"names":["React","Table","Divider","Popconfirm","Button","ArticlesContext","Link","ArticleListingTable","props","handleDelete","id","articles","deleteArticle","state","columns","title","dataIndex","key","width","render","text","record","feature_img_small_url","align","console","log","fetchArticles","isFetching","Component","forwardRef","ref"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Table, Divider, Popconfirm, Button } from \"antd\";\nimport ArticlesContext from '../../ArticlesContext'\nimport { Link } from 'react-router-dom'\n\nclass ArticleListingTable extends React.Component {\n\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      columns: [\n        {\n          title: \"\",\n          dataIndex: \"thumbnail_url\",\n          key: \"thumbnailUrl\",\n          width: 10,\n          render: (text, record) => {\n            return <img src={record.feature_img_small_url} alt={record.title} height={32}/>\n          }\n        },\n        {title: 'ID', key: 'id', dataIndex: 'id'},\n        {title: 'Date', key: 'date', dataIndex: 'created_at'},\n        {title: 'Title', key: 'title', dataIndex: 'title'},\n        {title: 'Topic', key: 'Topic', dataIndex: 'topic.title'},\n        {\n          title: 'operation',\n          dataIndex: 'operation',\n          width: 200,\n          align: 'right',\n          render: (text, record) => {\n            return (\n              <React.Fragment>\n                <Button.Group>\n                  <Popconfirm title=\"Sure to delete?\" onConfirm={() => this.handleDelete(record.id)}>\n                    <Button>Delete</Button>\n                  </Popconfirm>\n                  <Button>Edit</Button>\n                </Button.Group>\n              </React.Fragment>\n            )\n          }\n        }\n      ]\n    }\n  }\n\n  handleDelete = (id) => {\n    this.props.articles.deleteArticle(this.props.articles.articles, id)\n    //console.log(this.props.articles)\n  }\n\n  componentDidMount () {\n    console.log('listing table')\n    this.props.articles.fetchArticles()\n  }\n\n  render () {\n    return (\n      <React.Fragment>\n        <h3>Articles</h3>\n        <Divider />\n        <Link to={\"/article/create\"}>\n          Create\n        </Link>\n        <Divider />\n        <Table bordered loading={this.props.articles.isFetching} rowKey={record => record.id} columns={this.state.columns} dataSource={this.props.articles.articles} />\n      </React.Fragment>\n    )\n  }\n}\n\nexport default React.forwardRef((props, ref) => (\n  <ArticlesContext.Consumer>\n    {articles => <ArticleListingTable {...props} articles={articles} ref={ref} />}\n  </ArticlesContext.Consumer>\n))"]},"metadata":{},"sourceType":"module"}